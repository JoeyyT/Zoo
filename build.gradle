/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

//Adds sonarqube and spotbugs to gradle
plugins {
  id "com.github.spotbugs" version "1.6.2"
  id "org.sonarqube" version "2.6.2"
}

repositories {
mavenCentral()
}

//Apply Java, checkstyle and Jacoco as plugins
apply plugin: "java"
apply plugin: 'checkstyle'
apply plugin: "jacoco"

//jacoco configuration block
jacoco {
    //Set jacoco toolVersion
    toolVersion = "0.8.1"
}

//jacoco test report configuration block
jacocoTestReport {
    reports {
        //Set jacoco to not output to .xml
        xml.enabled false
        //Set jacoco to not output to .csv
        csv.enabled false
        //Set jacoco to output .html to ./build/reports/jacocoHtml
        html.destination file("${buildDir}/reports/jacocoHtml")
    }
}

//checkstyle configuration block
checkstyle {
    //Set checkstyle toolVersion
    toolVersion = "8.8"
    //Set config location (Set by default but added for convenience)
    configFile = 'config/checkstyle/checkstyle.xml' as File
}

//checkstyle main configuration block
checkstyleMain {
    //Set checkstyle main source location (Set by default but added for convenience)
    source ='src/main/java'
}

//checkstyle test configuration block
checkstyleTest {
    //Set checkstyle test source location (Set by default but added for convenience)
    source ='src/test/java'
}

//spotbugs configuration block
spotbugs {
    //Set spotbugs toolVersion
    toolVersion = '3.1.3'
}


//Dependencies block
dependencies {
    //Set JUnit dependency
    testCompile 'junit:junit:4.12'
    //Set spotbugs dependency
    spotbugsPlugins 'com.h3xstream.findsecbugs:findsecbugs-plugin:1.7.1'
}